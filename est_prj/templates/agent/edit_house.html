{% extends 'partials/base2.html' %}
{% load humanize %}
{% load static %}
{% block content %}

        <style>
            .errorlist {
                color: red;
                font-size: 14px;
                list-style-type: none;
                padding: 0;
            }
            .errorlist li {
                margin-bottom: 5px;
            }
            .form-section {
                margin-bottom: 20px;
            }
            .error-section {
                background-color: #ffe6e6;
                padding: 10px;
                border: 1px solid red;
                border-radius: 4px;
                margin-bottom: 10px;
            }
            .form-group {
                margin-bottom: 15px;
            }
        </style>

    <!-- Dashboard -->
    <div id="dashboard">
        <a href="#" class="utf_dashboard_nav_responsive"><i class="fa fa-reorder"></i> Dashboard Sidebar Menu</a>
        {% include 'agent/sidebar.html' %}

        <!-- Content -->
        <div class="utf_dashboard_content">
            {% if messages %}
                <ul class="errorlist">
                    {% for message in messages %}
                        <li>{{ message }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
            <div class="row">
                <div class="col-lg-12">
                   
                    <div id="utf_add_listing_part">
                        
                        <form method="POST" enctype="multipart/form-data"> {% csrf_token %}
                            {% if form.errors or form.non_field_errors %}
                                <div class="error-section">
                                    <h4>Apartment Form Errors</h4>
                                    {% if form.non_field_errors %}
                                        <ul class="errorlist">
                                            {% for error in form.non_field_errors %}
                                                <li>{{ error }}</li>
                                            {% endfor %}
                                        </ul>
                                    {% endif %}
                                    {% for field in form %}
                                        {% if field.errors %}
                                            <ul class="errorlist">
                                                {% for error in field.errors %}
                                                    <li>{{ field.label }}: {{ error }}</li>
                                                {% endfor %}
                                            </ul>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            {% endif %}

                            <div class="add_utf_listing_section margin-top-45">
                                <div class="utf_add_listing_part_headline_part">
                                    <h3><i class="bi bi-plus"></i> Add House</h3>
                                </div>
                                <div class="row with-forms">
                                    <div class="col-md-6">
                                        <h5>Name</h5>
                                        {{form.name}}
                                    </div>

                                    <div class="col-md-6">
                                        <h5>Year Built</h5>
                                        {{form.year_build}}
                                    </div>

                                    <div class="col-md-12">
                                        <h5>Address</h5>
                                        {{form.address}}
                                    </div>

                                    <div class="col-md-6">
                                        <h5>Image</h5>
                                        {{form.image}}
                                    </div>

                                    <div class="col-md-6">
                                        <h5>Price $</h5>
                                        {{form.price}}
                                    </div>

                                    <div class="col-md-12">
                                        <h5>Description</h5>
                                        {{form.desc}}
                                    </div>

                                    <div class="col-md-6">
                                        <h5>Bedrooms</h5>
                                        {{form.bedrooms}}
                                    </div>

                                    <div class="col-md-6">
                                        <h5>Bathrooms</h5>
                                        {{form.bathrooms}}
                                    </div>

                                    <div class="col-md-6">
                                        <h5>Garage (Optional)</h5>
                                        {{form.garage}}
                                    </div>

                                    <div class="col-md-6">
                                        <h5>Square feet</h5>
                                        {{form.sq_ft}}
                                    </div>

                                    <div class="col-md-6">
                                        <h5>Acres</h5>
                                        {{form.acres}}
                                    </div>

                                    <div class="col-md-6">
                                        <h5>Apartment Status</h5>
                                        {{form.status}}
                                    </div>

                                    <div class="col-md-12">
                                        <h5>Neighbourhood Info (Optional)</h5>
                                        {{form.neigbourhood_info}}
                                    </div>

                                    <div class="col-md-6">
                                        <h5>State</h5>
                                        {{form.state}}
                                    </div>

                                    <div class="col-md-6">
                                        <h5>City</h5>
                                        {{form.city}}
                                    </div>

                                
                                </div>
                            </div>

                                {% if gallery_formset.errors or gallery_formset.non_form_errors %}
                                    <div class="error-section">
                                        <h4>Apartment Gallery Errors</h4>
                                        {% if gallery_formset.non_form_errors %}
                                            <ul class="errorlist">
                                                {% for error in gallery_formset.non_form_errors %}
                                                    <li>{{ error }}</li>
                                                {% endfor %}
                                            </ul>
                                        {% endif %}
                                        {% for form in gallery_formset %}
                                            {% if form.errors %}
                                                <ul class="errorlist">
                                                    {% for field, errors in form.errors.items %}
                                                        {% for error in errors %}
                                                            <li>Gallery Form {{ forloop.parentloop.counter0 }} - {{ field }}: {{ error }}</li>
                                                        {% endfor %}
                                                    {% endfor %}
                                                </ul>
                                            {% endif %}
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            <div class="add_utf_listing_section margin-top-45">
                                
                                <div class="utf_add_listing_part_headline_part">
                                    <h3><i class="sl sl-icon-picture"></i> Images (Kitchen, Living room, Bathroom, Bedroom)</h3>
                                </div>
                                <div class="row with-forms">
                                    {{ gallery_formset.management_form }} 
                                    {% for img_form in gallery_formset %}
                                        <div class="utf_submit_section col-md-8">
                                            <h4>Image (Optional)</h4>
                                            {{img_form.id}}
                                            {{img_form.image}}
                                            <!-- <label><input type="checkbox" id="check-b" name="{{ img_form.DELETE.name }}"> Delete</label> -->
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>

                                {% if interior_formset.errors or interior_formset.non_form_errors %}
                                    <div class="error-section">
                                        <h5>Interior Features Errors</h5>
                                        {% if interior_formset.non_form_errors %}
                                            <ul class="errorlist">
                                                {% for error in interior_formset.non_form_errors %}
                                                    <li>{{ error }}</li>
                                                {% endfor %}
                                            </ul>
                                        {% endif %}
                                        {% for form in interior_formset %}
                                            {% if form.errors %}
                                                <ul class="errorlist">
                                                    {% for field, errors in form.errors.items %}
                                                        {% for error in errors %}
                                                            <li>Interior Feature Form {{ forloop.parentloop.counter0 }} - {{ field }}: {{ error }}</li>
                                                        {% endfor %}
                                                    {% endfor %}
                                                </ul>
                                            {% endif %}
                                        {% endfor %}
                                    </div>
                                {% endif %}

                                {% if exterior_formset.errors or exterior_formset.non_form_errors %}
                                    <div class="error-section">
                                        <h5>Exterior Features Errors</h5>
                                        {% if exterior_formset.non_form_errors %}
                                            <ul class="errorlist">
                                                {% for error in exterior_formset.non_form_errors %}
                                                    <li>{{ error }}</li>
                                                {% endfor %}
                                            </ul>
                                        {% endif %}
                                        {% for form in exterior_formset %}
                                            {% if form.errors %}
                                                <ul class="errorlist">
                                                    {% for field, errors in form.errors.items %}
                                                        {% for error in errors %}
                                                            <li>Exterior Feature Form {{ forloop.parentloop.counter0 }} - {{ field }}: {{ error }}</li>
                                                        {% endfor %}
                                                    {% endfor %}
                                                </ul>
                                            {% endif %}
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            <div class="add_utf_listing_section margin-top-45">
                                <div class="utf_add_listing_part_headline_part">
                                    <h3><i class="sl sl-icon-clock"></i>Features (Optional)</h3>
                                </div>
                                <div class="switcher-content">
                                    <div class="row utf_opening_day utf_js_demo_hours">
                                        <div class="col-md-5">
                                            <h5>Interior Features</h5>
                                            {{ interior_formset.management_form }} 
                                            {% for form in interior_formset %} 
                                                {{form.id}}
                                                {{ form.name }}
                                                <!-- <label><input type="checkbox" name="{{ form.DELETE.name }}"> Delete</label> -->
                                            {% endfor %}
                                        </div>

                                        <div class="col-md-5">
                                            <h5>Exterior Features</h5>
                                            {{ exterior_formset.management_form }} 
                                            {% for form in exterior_formset %} 
                                                {{form.id}}
                                                {{ form.name }}
                                                <!-- <label><input type="checkbox" name="{{ form.DELETE.name }}"> Delete</label> -->
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                            </div>

                                

                            <button type="submit" class="button preview">Save & Publish</button>

                        </form>
                        
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="footer_copyright_part">Copyright © 2022 All Rights Reserved.</div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}


