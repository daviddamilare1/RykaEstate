{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta content="width=device-width, initial-scale=1.0" name="viewport" />
        <title>Index - TheProperty Bootstrap Template</title>
        <meta name="description" content="" />
        <meta name="keywords" content="" />
        <!-- Favicons -->
        <link href="assets/img/favicon.png" rel="icon" />
        <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />
        <!-- Fonts -->
        <link href="https://fonts.googleapis.com" rel="preconnect" />
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
            rel="stylesheet"
        />
        <!-- Vendor CSS Files -->
        <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" />
        <link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet" />
        <link href="{% static 'assets/vendor/font-awesome/css/all.min.css' %}" rel="stylesheet" />
        <link href="{% static 'assets/vendor/aos/aos.css' %}" rel="stylesheet" />
        <link href="{% static 'assets/vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet" />
        <link href="{% static 'assets/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet" />
        <link href="{% static 'assets/vendor/drift-zoom/drift-basic.css' %}" rel="stylesheet" />
        <!-- SweetAlert2 CSS -->
        <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet" />
        <!-- Main CSS File -->
        <link href="{% static 'assets/css/main.css' %}" rel="stylesheet" />
        <link href="{% static 'assets/css/style.css' %}" rel="stylesheet" />
        <link href="{% static 'assets2/css/styles.css' %}" rel="stylesheet" />

        <!-- JS FILES -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="{% static 'assets/js/function.js' %}"></script>
        <script src="{% static 'assets/js/update_apartment_status.js' %}"></script>
    </head>
    <body class="index-page">
        <header id="header" class="header d-flex align-items-center fixed-top">
            <div class="header-container container-fluid container-xl position-relative d-flex align-items-center justify-content-between">
                <a href="{% url 'core:index' %}" class="logo d-flex align-items-center me-auto me-xl-0">
                    <h1 class="sitename">RykaEstate</h1>
                </a>
                <nav id="navmenu" class="navmenu">
                    <ul>
                        <li><a href="{% url 'core:index' %}" class="active">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <!-- <li><a href="properties.html">Properties</a></li> -->
                        
                        <li><a href="{% url 'agent:agents' %}">Agents</a></li>
                        
                        <li class="dropdown">
                            <a href="#"><span>Properties</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                            <ul>
                                <li><a href="{% url 'core:houses' %}">Houses</a></li>
                                <li><a href="{% url 'core:apartments' %}">Apartments</a></li>
                                <!-- <li><a href="agent-profile.html">Agent Profile</a></li> -->
                                
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="#"><span>Dropdown</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                            <ul>
                                <li><a href="#">Dropdown 1</a></li>
                                <li class="dropdown">
                                    <a href="#"><span>Deep Dropdown</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                                    <ul>
                                        <li><a href="#">Deep Dropdown 1</a></li>
                                        <li><a href="#">Deep Dropdown 2</a></li>
                                        <li><a href="#">Deep Dropdown 3</a></li>
                                        <li><a href="#">Deep Dropdown 4</a></li>
                                        <li><a href="#">Deep Dropdown 5</a></li>
                                    </ul>
                                </li>
                                <li><a href="#">Dropdown 2</a></li>
                                <li><a href="#">Dropdown 3</a></li>
                                <li><a href="#">Dropdown 4</a></li>
                            </ul>
                        </li>

                        <!-- <li><a href="blog.html">Dasboard</a></li> -->
                        <li><a href="{% url 'agent:create_agent' %}">Become an Host</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                    <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
                </nav>
                {% if request.user.is_authenticated %}
                    <!-- <p>Agent: {{ request.user.agent.full_name }}</p> -->
                    {% if request.user.agents %}
                        <a class="btn-getstarted" href="{% url 'agent:dashboard' %}">Dasboard</a>
                    {% else %}
                        <a class="btn-getstarted" href="{% url 'userauths:sign_out' %}">Sign Out</a>
                    {% endif %}
                {% else %}
                    <a class="btn-getstarted" href="{% url 'userauths:sign_in' %}">Get Started</a>
                {% endif %}
            </div>
        </header>

        

        {% block content %}

        {% endblock content %}

        <footer id="footer" class="footer position-relative">
            <div class="container">
                <div class="row gy-5">
                    <div class="col-lg-4">
                        <div class="footer-content">
                            <a href="{% url 'core:index' %}" class="logo d-flex align-items-center mb-4">
                                <span class="sitename">RykaEstate</span>
                            </a>
                            <p class="mb-4">Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae. Donec velit neque auctor sit amet aliquam vel ullamcorper sit amet ligula.</p>
                            <div class="newsletter-form">
                                <h5>Stay Updated</h5>
                                <form action="forms/newsletter.php" method="post" class="php-email-form">
                                    <div class="input-group">
                                        <input type="email" name="email" class="form-control" placeholder="Enter your email" required="" />
                                        <button type="submit" class="btn-subscribe">
                                            <i class="bi bi-send"></i>
                                        </button>
                                    </div>
                                    <div class="loading">Loading</div>
                                    <div class="error-message"></div>
                                    <div class="sent-message">Thank you for subscribing!</div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-2 col-6">
                        <div class="footer-links">
                            <h4>Company</h4>
                            <ul>
                                <li><a href="#"> <i class="bi bi-chevron-right"></i> About </a></li>
                                <li><a href="#"> <i class="bi bi-chevron-right"></i> Careers </a></li>
                                <li><a href="#"> <i class="bi bi-chevron-right"></i> Press </a></li>
                                <li><a href="#"> <i class="bi bi-chevron-right"></i> Blog </a></li>
                                <li><a href="#"> <i class="bi bi-chevron-right"></i> Contact </a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-2 col-6">
                        <div class="footer-links">
                            <h4>Solutions</h4>
                            <ul>
                                <li><a href="#"> <i class="bi bi-chevron-right"></i> Digital Strategy </a></li>
                                <li><a href="#"> <i class="bi bi-chevron-right"></i> Cloud Computing </a></li>
                                <li><a href="#"> <i class="bi bi-chevron-right"></i> Data Analytics </a></li>
                                <li><a href="#"> <i class="bi bi-chevron-right"></i> AI Solutions </a></li>
                                <li><a href="#"> <i class="bi bi-chevron-right"></i> Cybersecurity </a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="footer-contact">
                            <h4>Get in Touch</h4>
                            <div class="contact-item">
                                <div class="contact-icon">
                                    <i class="bi bi-geo-alt"></i>
                                </div>
                                <div class="contact-info">
                                    <p>
                                        2847 Maple Avenue <br />
                                        Los Angeles, CA 90210 <br />
                                        United States
                                    </p>
                                </div>
                            </div>
                            <div class="contact-item">
                                <div class="contact-icon">
                                    <i class="bi bi-telephone"></i>
                                </div>
                                <div class="contact-info">
                                    <p>+1 (555) 987-6543</p>
                                </div>
                            </div>
                            <div class="contact-item">
                                <div class="contact-icon">
                                    <i class="bi bi-envelope"></i>
                                </div>
                                <div class="contact-info">
                                    <p>contact@example.com</p>
                                </div>
                            </div>
                            <div class="social-links">
                                <a href="#"><i class="bi bi-facebook"></i></a>
                                <a href="#"><i class="bi bi-twitter-x"></i></a>
                                <a href="#"><i class="bi bi-linkedin"></i></a>
                                <a href="#"><i class="bi bi-youtube"></i></a>
                                <a href="#"><i class="bi bi-github"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-6">
                            <div class="copyright">
                                <p>
                                    © <span>Copyright</span>
                                    <strong class="px-1 sitename">MyWebsite</strong>
                                    <span>All Rights Reserved</span>
                                </p>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="footer-bottom-links">
                                <a href="#">Privacy Policy</a>
                                <a href="#">Terms of Service</a>
                                <a href="#">Cookie Policy</a>
                            </div>
                            <!-- <div class="credits">
                                Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </footer>

        <!-- Scroll Top -->
        <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center">
            <i class="bi bi-arrow-up-short"></i>
        </a>
        <!-- Preloader -->
        <div id="preloader"></div>
        <!-- Vendor JS Files -->

        <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> -->
        <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
        <script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>
        <script src="{% static 'assets/vendor/aos/aos.js' %}"></script>
        <script src="{% static 'assets/vendor/purecounter/purecounter_vanilla.js' %}"></script>
        <script src="{% static 'assets/vendor/glightbox/js/glightbox.min.js' %}"></script>
        <script src="{% static 'assets/vendor/swiper/swiper-bundle.min.js' %}"></script>
        <script src="{% static 'assets/vendor/drift-zoom/Drift.min.js' %}"></script>
        <!-- SweetAlert2 JS -->
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <!-- Main JS File -->
        <script src="{% static 'assets/js/main.js' %}"></script>
        

        <!-- <script>
            $(document).ready(function() {
    
                // UPDATE APARTMENT STATUS every 3 secs
                function makeAjaxCall() {
                    $.ajax({
                        url: "/update_apartment_status/",
                        type: "GET",
                        success: function(data) {
                            console.log('Checked Apartments:', data);
                        },
                        error: function(xhr, textStatus, errorThrown) {
                            console.error('Apartment status error:', errorThrown);
                        }
                    });
                }

                setInterval(makeAjaxCall, 3000);
            });
        </script> -->
        <!-- SweetAlert2 for Django Messages -->
        <script>
            {% if messages %}
                const Toast = Swal.mixin({
                    toast: true,
                    position: 'top-end',
                    showConfirmButton: false,
                    timer: 7000,
                    timerProgressBar: true
                });
                {% for message in messages %}
                    console.log("Message tag: {{ message.tags }}"); // Debug log
                    Toast.fire({
                        icon: {% if message.tags == 'debug' %}'info'{% else %}'{{ message.tags }}'{% endif %},
                        html: '<div style="color: {% if message.tags == "error" or message.tags == "danger" %}#b91c1c{% elif message.tags == "success" %}#15803d{% elif message.tags == "warning" %}#a16207{% else %}#1e40af{% endif %}; background-color: {% if message.tags == "error" or message.tags == "danger" %}#fee2e2{% elif message.tags == "success" %}#dcfce7{% elif message.tags == "warning" %}#fef9c3{% endif %}; padding: 5px; border-radius: 5px;">{{ message }}</div>',
                        customClass: {
                            popup: 'swal-{% if message.tags == "error" or message.tags == "danger" %}error{% else %}{{ message.tags }}{% endif %}'
                        }
                    });
                {% endfor %}
            {% endif %}
        </script>
    </body>
</html>